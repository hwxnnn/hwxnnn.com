<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NanoBananaKittens</title>
    <style>
        /* Dark Mode Base */
        body { 
            font-family: "SF Pro Display", "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background: #000000; 
            color: #ffffff; 
            text-align: center; 
            margin: 0;
            padding-bottom: 40px;
            -webkit-tap-highlight-color: transparent;
        }

        h1 { 
            margin-top: 40px; 
            font-size: 1.8rem; 
            margin-bottom: 5px; 
            font-weight: 700; 
            letter-spacing: -0.5px;
        }

        h2 {
            margin-top: 0;
            font-size: 0.95rem;
            font-weight: 400;
            color: #bbbbbb;
            margin-bottom: 25px;
        }

        .brand-color {
            color: #FFCC01;
            font-weight: 600;
        }

        .info-bar { 
            color: #888; 
            font-size: 0.85rem; 
            margin-bottom: 25px; 
            background: #1a1a1a; 
            display: inline-block; 
            padding: 8px 16px; 
            border-radius: 20px; 
            border: 1px solid #333;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 10px;
            padding: 10px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .gallery a {
            display: block;
            overflow: hidden;
            border-radius: 12px;
            position: relative;
        }

        .gallery img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            aspect-ratio: 1 / 1; 
            transition: opacity 0.3s ease;
            opacity: 0;
            display: block;
        }

        .gallery img.loaded { opacity: 1; }

        @media (hover: hover) {
            .gallery img { transition: transform 0.3s ease, opacity 0.3s; }
            .gallery img:hover { transform: scale(1.05); }
        }
    </style>
</head>
<body>

    <h1 id="main-title">NanoBananaKittens</h1>
    <h2 id="sub-title">Cat memes, redrawn by <span class="brand-color">Nano Banana Pro</span></h2>
    <div class="info-bar" id="info-bar">1. Tap on the cat you want | 2. Hold and Save to Photos</div>
    
    <div class="gallery" id="gallery"></div>

    <script>
        // --- 1. LANGUAGE DETECTION ---
        const userLang = navigator.language || navigator.userLanguage;
        const titleEl = document.getElementById('main-title');
        const subTitleEl = document.getElementById('sub-title');
        const infoBarEl = document.getElementById('info-bar');

        if (userLang.startsWith('ko')) {
            titleEl.innerText = "üçåüêà Í≥†ÏñëÏù¥ Ïß§ DB";
            subTitleEl.innerHTML = 'Ï¥àÍ≥†ÌôîÏßà Í≥†ÏñëÏù¥ Ïß§, <span class="brand-color">NanoBananaKittens</span>';
            infoBarEl.innerText = '1. ÏõêÌïòÎäî Ïß§ ÌÉ≠ÌïòÍ∏∞ 2. Íæπ ÎàÑÎ•¥Í≥† "ÏÇ¨ÏßÑ Ïï±Ïóê Ï†ÄÏû•"';
            document.title = "Í≥†ÏñëÏù¥ Ïß§ DB";
        } else {
            titleEl.innerText = "NanoBananaKittens";
            subTitleEl.innerHTML = 'Cat memes, redrawn by <span class="brand-color">Nano Banana Pro</span>';
            infoBarEl.innerText = '1. Tap on the cat you want | 2. Hold and Save to Photos';
            document.title = "NanoBananaKittens";
        }

        // --- 2. GALLERY CONFIGURATION ---
        const username = 'hwxnnn';
        const repo = 'hwxnnn.com';
        
        // FIXED: Now we look INSIDE the folder (assuming you moved them)
        const compressedFolder = 'nanobananakittens/compressed';
        
        // FIXED: Since the folder is right next to this file now, we don't need '../'
        const originalFolder = 'original';     
        // ---------------------

        const gallery = document.getElementById('gallery');
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${compressedFolder}`;

        fetch(apiUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                data.forEach(file => {
                    if (file.name.match(/\.(jpg|jpeg)$/i)) {
                        
                        const originalFileName = file.name.replace(/\.(jpg|jpeg)$/i, '.png');
                        const originalUrl = `${originalFolder}/${originalFileName}`;

                        const link = document.createElement('a');
                        link.href = originalUrl;
                        link.target = "_blank"; 
                        link.rel = "noopener noreferrer"; 

                        const img = document.createElement('img');
                        img.src = `https://wsrv.nl/?url=${encodeURIComponent(file.download_url)}&w=400&h=400&fit=cover&q=75&output=webp`;
                        img.loading = "lazy";
                        
                        img.onload = () => img.classList.add('loaded');

                        link.appendChild(img);
                        gallery.appendChild(link);
                    }
                });
            })
            .catch(error => {
                console.error('Error:', error);
                gallery.innerHTML = `<p style='color:#666; margin-top:50px;'>Gallery failed to load.<br><small>Tried accessing: ${repo}/${compressedFolder}</small></p>`;
            });
    </script>
</body>
</html>
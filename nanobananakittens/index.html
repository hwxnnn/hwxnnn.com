<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NanoBananaKittens</title>
    <style>
        body { 
            font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; 
            background: #000000; color: #ffffff; text-align: center; margin: 0; padding-bottom: 40px;
        }
        h1 { margin-top: 40px; font-size: 1.8rem; font-weight: 700; }
        h2 { font-size: 0.95rem; color: #bbbbbb; margin-bottom: 25px; font-weight: 400; }
        .brand-color { color: #FFCC01; font-weight: 600; }
        .info-bar { color: #888; font-size: 0.85rem; margin-bottom: 25px; background: #1a1a1a; display: inline-block; padding: 8px 16px; border-radius: 20px; border: 1px solid #333; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 10px; padding: 10px; max-width: 1200px; margin: 0 auto; }
        .gallery a { display: block; border-radius: 12px; overflow: hidden; position: relative; }
        .gallery img { width: 100%; height: 100%; object-fit: cover; aspect-ratio: 1 / 1; display: block; background: #222; }
    </style>
</head>
<body>

    <h1 id="main-title">NanoBananaKittens</h1>
    <h2 id="sub-title">Cat memes, redrawn by <span class="brand-color">Nano Banana Pro</span></h2>
    <div class="info-bar" id="info-bar">1. Tap on the cat you want | 2. Hold and Save to Photos</div>
    
    <div class="gallery" id="gallery"></div>

    <script>
        // --- CONFIGURATION ---
        const username = 'hwxnnn';
        const repo = 'hwxnnn.com';
        
        // We assume the folder structure matches the URL structure
        const compressedFolder = 'nanobananakittens/compressed';
        const originalFolder = 'original'; // Relative to this HTML file

        const gallery = document.getElementById('gallery');
        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${compressedFolder}`;

        fetch(apiUrl)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Folder not found: ${compressedFolder}`);
                }
                return response.json();
            })
            .then(data => {
                data.forEach(file => {
                    if (file.name.match(/\.(jpg|jpeg|png)$/i)) {
                        
                        // 1. Link to Original (High Res)
                        // Assuming original is .png, but we'll stick to what we know works
                        const originalFileName = file.name.replace(/\.(jpg|jpeg)$/i, '.png');
                        const originalUrl = `${originalFolder}/${originalFileName}`;

                        // 2. Thumbnail Source (Compressed)
                        // We use the direct GitHub raw link to be safe
                        const rawUrl = file.download_url;

                        const link = document.createElement('a');
                        link.href = originalUrl;
                        link.target = "_blank"; 

                        const img = document.createElement('img');
                        img.src = rawUrl; // Loading directly from GitHub (No proxy)
                        img.loading = "lazy";

                        link.appendChild(img);
                        gallery.appendChild(link);
                    }
                });
            })
            .catch(error => {
                console.error(error);
                gallery.innerHTML = `<p style='color:#ff4444; margin-top:50px;'>
                    <b>Error:</b> Could not find images.<br>
                    <span style="font-size:0.8em; color:#888;">Expected location: ${repo}/${compressedFolder}</span>
                </p>`;
            });
            
        // Language Check
        const userLang = navigator.language || navigator.userLanguage;
        if (userLang.startsWith('ko')) {
            document.getElementById('main-title').innerText = "ğŸŒğŸˆ ê³ ì–‘ì´ ì§¤ DB";
            document.getElementById('sub-title').innerHTML = 'ì´ˆê³ í™”ì§ˆ ê³ ì–‘ì´ ì§¤, <span class="brand-color">NanoBananaKittens</span>';
            document.getElementById('info-bar').innerText = '1. ì›í•˜ëŠ” ì§¤ íƒ­í•˜ê¸° 2. ê¾¹ ëˆ„ë¥´ê³  "ì‚¬ì§„ ì•±ì— ì €ì¥"';
            document.title = "ê³ ì–‘ì´ ì§¤ DB";
        }
    </script>
</body>
</html>